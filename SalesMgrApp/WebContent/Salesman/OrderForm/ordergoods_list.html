<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>订单列表</title>
    <link rel="stylesheet" href="../../Contents/lib/layui/css/layui.css">
    <link rel="stylesheet" href="../../Contents/lib/easyui-theme/themes/insdep/easyui.css">
    <link rel="stylesheet" href="../../Contents/lib/easyui-theme/themes/insdep/icon.css">
    <script src="../../Contents/js/config.js"></script>
    <script src="../../Contents/js/jquery.min.js"></script>
    <script src="../../Contents/lib/easyui-theme/jquery.easyui.min.js"></script>
    <script src="../../Contents/lib/easyui-theme/locale/easyui-lang-zh_CN.js"></script>
    <script src="../../Contents/js/easyui.util.js"></script>
    <script src="../../Contents/lib/lingshiframework/lingshi_base.js"></script>
    <script src="../../Contents/js/md5.js"></script>
    <script src="../../Contents/js/layui.util.js"></script>
    <style>
        .div-condition{
            background-color: #eff3f8;
            padding:10px 8px;
            height: 20px;
        }
    </style>
</head>
<body>
<div class="easyui-layout" data-options='fit:"true",border:false'>
    <div data-options='region:"north",border:false' style="margin-bottom: 5px;">
        <div class="div-condition">
            <span style="cursor: pointer" onclick="javascript :history.back(-1);"><i class="layui-icon">&#xe603;</i> 返回</span>
            <span style="float: right;">订单详情</span>
        </div>
    </div>
    <div data-options='region:"center",border:false'>
        <table id="table-orderform"></table>
    </div>
</div>
<script src="../../Contents/lib/layui/layui.all.js"></script>
<script>
    var orderid=null;
    $(function () {
        orderid=LingShiUtil.getParam('orderid');
        initDataGrid();
    })

    //初始化表格数据
    function initDataGrid() {
        EasyUIUtil.initDataGrid('#table-orderform', Config.UrlHead + "/orderGoods/list",getColumns(),{orderid:orderid});
        var pager=$('#table-orderform').datagrid('getPager');
        pager.pagination({
            showPageList: true,
            buttons: [],
            onBeforeRefresh: function () {
                return true;
            }
        });
    }

    //获取列
    function getColumns(){
        var columns=[[
            {field:'orderid',width:100,align:'center',title:"订单编号"},
            {field:'ordergoodsname',width:100,align:'center',title:"商品名称"},
            {field:'ordergoodsprice',width:100,align:'center',title:"商品单价"},
            {field:'ordergoodscoste',width:100,align:'center',title:"商品成本"},
            {field:'ordergoodscount',width:100,align:'center',title:"数量"},
            {field:'ordergoodspercentage',width:100,align:'center',title:"商品抽成（件）"}
        ]];
        return columns;
    }
</script>
</body>
</html>